###################################################################################################################################
# Registry for AirfoilInfo in the FAST Modularization Framework
# This Registry file is used to create MODULE AFinfo_Types, which contains all of the user-defined types needed in AirfoilInfo.
# It also contains copy, destroy, pack, and unpack routines associated with each defined data types.
# See the NWTC Programmer's Handbook for further information on the format/contents of this file.
#
# Use ^ as a shortcut for the value in the same column from the previous line.
###################################################################################################################################

# NOTE: All variables initialized here should be double-checked that they are properly initialized in the new framework (i.e. can run twice)
#
# Entries are of the form
# <keyword>	<ModuleName/ModName>	<TypeName>	<FieldType>	<FieldName>	<Dims>	<IO>	<DNAME>	<DESCRIP>	<UNITS>

# ...... Include files (definitions from NWTC Library) ............................................................................
# make sure that the file name does not have any trailing white spaces!
include	Registry_NWTC_Library.txt

# ..... Input file data ...........................................................................................................
# The following derived type stores Beddoes-Leishman unsteady-aero data for an airfoil at a single combination of Re and control setting. The data can be computed internally of not read from the input file.
typedef	AirfoilInfo/AFI	AFI_UA_BL_Type	ReKi	BL_AOD     	-	-	-	"Angle of attack for minimum Cd (used for Beddoes-Leishman unsteady aero)"	degrees
typedef	^	^	ReKi	BL_AOL     	-	-	-	"Angle of attack for zero lift (used for Beddoes-Leishman unsteady aero)"	degrees
typedef	^	^	ReKi	BL_Cd0     	-	-	-	"Minimum Cd value (used for Beddoes-Leishman unsteady aero)"	degrees
typedef	^	^	ReKi	BL_CnA     	-	-	-	"Cn slope for zero lift (used for Beddoes-Leishman unsteady aero)"	-
typedef	^	^	ReKi	BL_CnS     	-	-	-	"Cn at stall value for positive angle of attack (used for Beddoes-Leishman unsteady aero)"	-
typedef	^	^	ReKi	BL_CnSL    	-	-	-	"Cn at stall value for negative angle (used for Beddoes-Leishman unsteady aero)"	-

# The following derived type stores data for an airfoil at a single combination of Re and control setting.
typedef	AirfoilInfo/AFI	AFI_Table_Type	SiKi	Alpha   	{:}	-	-	"Angle-of-attack vector that matches the Coefs matrix"
typedef	^	^	ReKi	Coefs	{:}{:}	-	-	"Airfoil coefficients for Cd, Cl,  and maybe Cm and/or Cpmin"	-
typedef	^	^	ReKi	SplineCoefs	{:}{:}{:}	-	-	"Spline coefficients for Cd, Cl,  and maybe Cm and/or Cpmin"	-
typedef	^	^	ReKi	BEMT_Spline	{:}{:}{:}{:}	-	-	"Spline coefficients for Cd, Cl for the two bounding Re when doing BEM"	-
typedef	^	^	ReKi	Ctrl    	-	-	-	"Control setting"	"user-specified"
typedef	^	^	ReKi	Re      	-	-	-	"Reynolds numbers in millions"	-
typedef	^	^	INTEGER	NumAlf  	-	-	-	"Length of the Alpha and Coefs arrays"	-
typedef	^	^	LOGICAL	ConstData	-	-	-	"Flag that tells if aerodynamic coefficients are the same for all alphas"	-
typedef	^	^	LOGICAL	InclUAdata	-	-	-	"Flag that tells if UA data is included in the input file"	-
typedef	^	^	INTEGER	UA_Model	-	-	-	"Length of the Alpha and Coefs arrays"	-
typedef	^	^	AFI_UA_BL_Type	UA_BL	-	-	-	"The tables of Leishman-Beddoes unsteady-aero data for given Re and control setting"	-

# The following derived type stores data for an airfoil for all combinations of Re and control setting.
typedef	AirfoilInfo/AFI	AFInfoType	ReKi	NonDimArea	-	-	-	"The non-dimensional area of the airfoil (area/chord^2)"	-
typedef	^	^	SiKi	CdAoAknots	{:}	-	-	"Spline knots for the angle of attack for Cd"	-
typedef	^	^	SiKi	CdReKnots	{:}	-	-	"Spline knots for the Re for Cd"	-
typedef	^	^	SiKi	ClAoAknots	{:}	-	-	"Spline knots for the angle of attack for Cl"	-
typedef	^	^	SiKi	ClReKnots	{:}	-	-	"Spline knots for the Re for Cl"	-
typedef	^	^	SiKi	CmAoAknots	{:}	-	-	"Spline knots for the angle of attack for Cm"	-
typedef	^	^	SiKi	CmReKnots	{:}	-	-	"Spline knots for the Re for Cm"	-
typedef	^	^	SiKi	CpminAoAknots	{:}	-	-	"Spline knots for the angle of attack for Cpmin"	-
typedef	^	^	SiKi	CpminReKnots	{:}	-	-	"Spline knots for the Re for Cpmin"	-
typedef	^	^	SiKi	LogRe	{:}	-	-	"An array storing the LN(Re) for all the tables in a file"	-
typedef	^	^	SiKi	ReKnots	{:}{:}	-	-	"Spline knots for the logs of the Reynolds numbers"	-
typedef	^	^	SiKi	CdSpCoef2D	{:}	-	-	"The spline coefficients for bicubic-spline interpolation of Cd data"	-
typedef	^	^	SiKi	ClSpCoef2D	{:}	-	-	"The spline coefficients for bicubic-spline interpolation of Cl data"	-
typedef	^	^	SiKi	CmSpCoef2D	{:}	-	-	"The spline coefficients for bicubic-spline interpolation of Cm data"	-
typedef	^	^	SiKi	CpminSpCoef2D	{:}	-	-	"The spline coefficients for bicubic-spline interpolation of Cpmin data"	-
typedef	^	^	ReKi	X_Coord	{:}	-	-	"X-coordinate for the airfoil shape"	-
typedef	^	^	ReKi	Y_Coord	{:}	-	-	"Y-coordinate for the airfoil shape"	-
typedef	^	^	INTEGER	MaxAoAknots	{:}	-	-	"The maximum number of angle-of-attack knots for 2D splines; essentially the dimension of the array"	-
typedef	^	^	INTEGER	MaxReKnots	{:}	-	-	"The maximum number of Re knots for 2D splines; essentially the dimension of the array"	-
typedef	^	^	INTEGER	NumCdAoAkts	-	-	-	"The number of angle-of-attack knots for 2D splines of Cd"	-
typedef	^	^	INTEGER	NumCdReKts	-	-	-	"The number of log(Re) knots for 2D splines of Cd"	-
typedef	^	^	INTEGER	NumClAoAkts	-	-	-	"The number of angle-of-attack knots for 2D splines of Cl"	-
typedef	^	^	INTEGER	NumClReKts	-	-	-	"The number of log(Re) knots for 2D splines of Cl"	-
typedef	^	^	INTEGER	NumCmAoAkts	-	-	-	"The number of angle-of-attack knots for 2D splines of Cm"	-
typedef	^	^	INTEGER	NumCmReKts	-	-	-	"The number of log(Re) knots for 2D splines of Cm"	-
typedef	^	^	INTEGER	NumCoords	-	-	-	"The number of coordinates in the airfoil-shape table"	-
typedef	^	^	INTEGER	NumCpminAoAkts	-	-	-	"The number of angle-of-attack knots for 2D splines of Cpmin"	-
typedef	^	^	INTEGER	NumCpminReKts	-	-	-	"The number of log(Re) knots for 2D splines of Cpmin"	-
typedef	^	^	INTEGER	NumTabs	-	-	-	"The number of airfoil tables in the airfoil file"	-
typedef	^	^	AFI_Table_Type	Table	{:}	-	-	"The tables of airfoil data for given Re and control setting"	-

# ..... Initialization data .......................................................................................................
# The following derived type stores information that comes from the calling module (say, AeroDyn):
typedef	AirfoilInfo/AFI	InitInputType	INTEGER	NumAFfiles	-	-	-	"The number of airfoil files"	-
typedef	^	^	CHARACTER(1024)	FileNames	{:}	-	-	"The name of the file the data were read from"	-
typedef	^	^	INTEGER	UA_Model	-	-	-	"The type of unsteady aero model (1-Beddoes-Leishman)"	-
typedef	^	^	INTEGER	NumCoefs	-	-	-	"The number of aerodynamic coefficients to be stored in the coefficients arrays"	-
typedef	^	^	INTEGER	InCol_Alfa	-	-	-	"The column of the coefficient tables that holds the angle of attack"	-
typedef	^	^	INTEGER	InCol_Cl	-	-	-	"The column of the coefficient tables that holds the lift coefficient"	-
typedef	^	^	INTEGER	InCol_Cd	-	-	-	"The column of the coefficient tables that holds the minimum pressure coefficient"	-
typedef	^	^	INTEGER	InCol_Cm	-	-	-	"The column of the coefficient tables that holds the pitching-moment coefficient"	-
typedef	^	^	INTEGER	InCol_Cpmin	-	-	-	"The column of the coefficient tables that holds the minimum pressure coefficient"	-

# Define outputs from the initialization routine here:
typedef	^	InitOutputType	ProgDesc	Ver	-	-	-	"This module's name, version, and date"	-

# ..... States ....................................................................................................................
# Define continuous (differentiable) states here:
typedef	^	ContinuousStateType	ReKi	DummyContState	-	-	-	"Remove this variable if you have continuous states"	-

# Define discrete (nondifferentiable) states here:
typedef	^	DiscreteStateType	ReKi	DummyDiscState	-	-	-	"Remove this variable if you have discrete states"	-

# Define constraint states here:
typedef	^	ConstraintStateType	ReKi	DummyConstrState	-	-	-	"Remove this variable if you have constraint states"	-

# Define any data that are not considered actual states here:
typedef	^	OtherStateType	LOGICAL	IntCl	-	-	-	"A flag telling AFI to interpolate the lift cofficient this call"	-
typedef	^	^	LOGICAL	IntCd	-	-	-	"A flag telling AFI to interpolate the drag cofficient this call"	-
typedef	^	^	LOGICAL	IntCm	-	-	-	"A flag telling AFI to interpolate the pitching moment cofficient this call"	-
typedef	^	^	LOGICAL	IntCpmin	-	-	-	"A flag telling AFI to interpolate the minimum pressure cofficient this call"	-
typedef	^	^	INTEGER	AFfile	-	-	-	"The number of the airfoil file that applies to the current node"	-

# ..... Parameters ................................................................................................................
# Define parameters here:
# Time step for integration of continuous states (if a fixed-step integrator is used) and update of discrete states:
typedef	^	ParameterType	INTEGER	ColCd	-	-	-	"The column in the Coefs arrays that contains Cd data"	-
typedef	^	^	INTEGER	ColCl	-	-	-	"The column in the Coefs arrays that contains Cl data"	-
typedef	^	^	INTEGER	ColCm	-	-	-	"The column in the Coefs arrays that contains Cm data"	-
typedef	^	^	INTEGER	ColCpmin	-	-	-	"The column in the Coefs arrays that contains Cpmin data"	-
typedef	^	^	AFInfoType	AFInfo	{:}	-	-	The derived type that stores all the data from the input files.	-

# ..... Inputs ....................................................................................................................
# Define inputs that are not on this mesh here:
typedef	^	InputType	ReKi	AoA	-	-	-	"The angle of attack"	radians
typedef	^	^	ReKi	Ctrl	-	-	-	"The user-defined control setting"	-
typedef	^	^	ReKi	Re	-	-	-	"Reynolds number"	millions

# ..... Outputs ...................................................................................................................
# Define outputs that are not contained on the mesh here:
typedef	^	OutputType	ReKi	Cl	-	-	-	"Dimensionless coefficient of lift"	-
typedef	^	^	ReKi	Cd	-	-	-	"Dimensionless coefficient of drag"	-
typedef	^	^	ReKi	Cm	-	-	-	"Dimensionless coefficient of pitching moment"	-
typedef	^	^	ReKi	Cpmin	-	-	-	"Dimensionless coefficient of minimum pressure"	-

































